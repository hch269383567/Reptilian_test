import requests
import re

# https://www.taptap.com/ajax/top/ios/download?page=2&total=30
# a='\u300a\u5fc3\u7075\u6218\u4e89\u300b\u662f\u4e00\u4e2a\u5728\u6574\u4f53\u504f\u5411\u4e8e\u79ef\u6781\u660e\u5feb\u7684\u6c1b\u56f4\u4e2d\uff0c\u8bb2\u8ff0\u4e86\u5c11\u5e74\u5c11\u5973\u4eec\u7684&ldquo;\u90fd\u5e02\u975e\u65e5\u5e38\u5947\u5999\u5192\u9669&rdquo;\u7684\u6e38\u620f\u3002 \u5728\u67b6\u7a7a\u7684\u73b0\u4ee3\u90fd\u5e02&ldquo;\u6df1\u5ddd\u5e02&rdquo;\uff0c\u6027\u683c\u5404\u5f02\u7684\u4e3b\u89d2\u4eec\u8fdb\u5165\u4e86\u6d41\u8a00\u4e2d\u65e5\u5e38\u4e16\u754c\u7684\u91cc\u4fa7&ldquo;\u5fc3\u7075\u4e16\u754c&rdquo;\uff0c\u89e3\u653e&ldquo;\u5fc3\u7684\u529b\u91cf&rdquo;\u53d8\u8eab\u4e3a\u6218\u6597\u59ff\u6001&ldquo;\u5fc3\u7075\u5f62\u6001&rdquo;\uff0c\u548c\u5404\u79cd\u5404\u6837\u7684\u5f3a\u654c\u6218\u6597\u3002 \u8fd9\u4e0d\u4ec5\u4ec5\u662f\u4e2a\u6551\u8d4e\u4ed6\u4eba\u7684\u6545\u4e8b\uff0c\u4e3b\u89d2\u4eec\u4e5f\u6709\u7740\u9752\u6625\u671f\u5404\u79cd\u5404\u6837\u7684\u70e6\u607c\uff0c\u5bfb\u627e\u7740\u81ea\u5df1\u5185\u5fc3\u771f\u6b63\u7684\u613f\u671b\u3002 \u300c\u4f60\u7684&ldquo;\u5185\u5fc3&rdquo;\u5230\u5e95\u5728\u6e34\u671b\u4ec0\u4e48\uff1f\u300d \u5e0c\u671b\u5404\u4f4d\u5728\u8fd9\u4e2a\u4e0e\u4e3b\u89d2\u4eec\u5171\u540c\u7684\u5192\u9669\u4e2d\uff0c\u4e5f\u80fd\u591f\u627e\u5230\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u3002 '
# print(a.encode().decode().replace('&rdquo;','').replace('&ldquo;',''))
# url='https://www.taptap.com/top/ios'
# r=requests.get(url)
# text=r.text
url='https://www.taptap.com/ajax/top/ios/download?page=1&total=15'
r=requests.get(url)
text=r.text
json_data=r.json()
aa=json_data['data']
game=re.findall('<h4>(.*?)</h4>',json_data['data'])
jieshao=re.findall('<p class="card-middle-description">(.*?)</p>',text,re.DOTALL|re.IGNORECASE|re.MULTILINE)
pingfen=re.findall('<span>(.*?)</span>',text)